{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Titto\\\\mercys-coffee dummy\\\\frontend\\\\src\\\\pages\\\\Payment.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Payment() {\n  _s();\n  const navigate = useNavigate();\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [tableNumber, setTableNumber] = useState(\"\");\n  const [totalPrice, setTotalPrice] = useState(0);\n\n  // Ambil data yang dikirim dari halaman Order.jsx\n  useEffect(() => {\n    const saved = JSON.parse(localStorage.getItem(\"current_order_items\"));\n    const savedTable = localStorage.getItem(\"current_table_number\");\n    if (saved) setSelectedItems(saved);\n    if (savedTable) setTableNumber(savedTable);\n\n    // Hitung total harga\n    if (saved) {\n      const total = saved.reduce((sum, item) => sum + item.price * item.quantity, 0);\n      setTotalPrice(total);\n    }\n  }, []);\n\n  // Generate Order ID random\n  const generateOrderId = () => {\n    const rand = Math.floor(100000 + Math.random() * 900000);\n    return rand.toString();\n  };\n  const handlePayment = () => {\n    const orderId = generateOrderId();\n    const orderData = {\n      order_id: orderId,\n      table_number: tableNumber,\n      items: selectedItems,\n      total_price: totalPrice,\n      status: \"pending\"\n    };\n\n    // SIMPAN KE LOCAL STORAGE\n    localStorage.setItem(`order_${orderId}`, JSON.stringify(orderData));\n\n    // Pindah ke halaman sukses\n    navigate(\"/payment-success\", {\n      state: {\n        orderId,\n        selectedItems,\n        totalPrice,\n        tableNumber\n      }\n    });\n  };\n  if (!selectedItems || selectedItems.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"p-6 text-center\",\n      children: \"Tidak ada data pesanan. Silakan kembali.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    exit: {\n      opacity: 0,\n      y: -20\n    },\n    transition: {\n      duration: 0.3\n    },\n    className: \"p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-[#f5efe6] flex flex-col items-center justify-center p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-md w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-center text-2xl font-bold mb-4 text-[#6F4E37]\",\n          children: \"Payment Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold\",\n            children: \"Table Number:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg\",\n            children: tableNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold mb-2\",\n            children: \"Your Order:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), selectedItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between bg-[#faf6f1] p-2 rounded mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [item.name, \" x \", item.quantity]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Rp\", (item.price * item.quantity).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"my-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between font-bold text-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Rp\", totalPrice.toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePayment,\n          className: \"mt-6 w-full bg-[#6F4E37] text-white py-2 rounded hover:bg-[#5c3f2d] active:scale-95 transition\",\n          children: \"Pay Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/order\"),\n          className: \"mt-3 w-full border border-[#6F4E37] text-[#6F4E37] py-2 rounded hover:bg-[#6F4E37] hover:text-white transition active:scale-95\",\n          children: \"\\u2190 Back to Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(Payment, \"j6SCsYiVPuKlsdGwuzJa1yk+J+Q=\", false, function () {\n  return [useNavigate];\n});\n_c = Payment;\nvar _c;\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","motion","jsxDEV","_jsxDEV","Payment","_s","navigate","selectedItems","setSelectedItems","tableNumber","setTableNumber","totalPrice","setTotalPrice","saved","JSON","parse","localStorage","getItem","savedTable","total","reduce","sum","item","price","quantity","generateOrderId","rand","Math","floor","random","toString","handlePayment","orderId","orderData","order_id","table_number","items","total_price","status","setItem","stringify","state","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","div","initial","opacity","y","animate","exit","transition","duration","map","name","toLocaleString","id","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Titto/mercys-coffee dummy/frontend/src/pages/Payment.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function Payment() {\r\n  const navigate = useNavigate();\r\n\r\n  const [selectedItems, setSelectedItems] = useState([]);\r\n  const [tableNumber, setTableNumber] = useState(\"\");\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n  // Ambil data yang dikirim dari halaman Order.jsx\r\n  useEffect(() => {\r\n    const saved = JSON.parse(localStorage.getItem(\"current_order_items\"));\r\n    const savedTable = localStorage.getItem(\"current_table_number\");\r\n\r\n    if (saved) setSelectedItems(saved);\r\n    if (savedTable) setTableNumber(savedTable);\r\n\r\n    // Hitung total harga\r\n    if (saved) {\r\n      const total = saved.reduce(\r\n        (sum, item) => sum + item.price * item.quantity,\r\n        0\r\n      );\r\n      setTotalPrice(total);\r\n    }\r\n  }, []);\r\n\r\n  // Generate Order ID random\r\n  const generateOrderId = () => {\r\n    const rand = Math.floor(100000 + Math.random() * 900000);\r\n    return rand.toString();\r\n  };\r\n\r\n  const handlePayment = () => {\r\n    const orderId = generateOrderId();\r\n\r\n    const orderData = {\r\n      order_id: orderId,\r\n      table_number: tableNumber,\r\n      items: selectedItems,\r\n      total_price: totalPrice,\r\n      status: \"pending\",\r\n    };\r\n\r\n    // SIMPAN KE LOCAL STORAGE\r\n    localStorage.setItem(`order_${orderId}`, JSON.stringify(orderData));\r\n\r\n    // Pindah ke halaman sukses\r\n    navigate(\"/payment-success\", {\r\n      state: {\r\n        orderId,\r\n        selectedItems,\r\n        totalPrice,\r\n        tableNumber,\r\n      },\r\n    });\r\n  };\r\n\r\n  if (!selectedItems || selectedItems.length === 0) {\r\n    return (\r\n      <p className=\"p-6 text-center\">\r\n        Tidak ada data pesanan. Silakan kembali.\r\n      </p>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      exit={{ opacity: 0, y: -20 }}\r\n      transition={{ duration: 0.3 }}\r\n      className=\"p-4\"\r\n    >\r\n      <div className=\"min-h-screen bg-[#f5efe6] flex flex-col items-center justify-center p-6\">\r\n        <div className=\"bg-white p-6 rounded-lg shadow-md w-full max-w-md\">\r\n          <h1 className=\"text-center text-2xl font-bold mb-4 text-[#6F4E37]\">\r\n            Payment Summary\r\n          </h1>\r\n\r\n          <div className=\"mb-4\">\r\n            <p className=\"font-semibold\">Table Number:</p>\r\n            <p className=\"text-lg\">{tableNumber}</p>\r\n          </div>\r\n\r\n          <div>\r\n            <p className=\"font-semibold mb-2\">Your Order:</p>\r\n\r\n            {selectedItems.map((item) => (\r\n              <div\r\n                key={item.id}\r\n                className=\"flex justify-between bg-[#faf6f1] p-2 rounded mb-2\"\r\n              >\r\n                <span>\r\n                  {item.name} x {item.quantity}\r\n                </span>\r\n                <span>Rp{(item.price * item.quantity).toLocaleString()}</span>\r\n              </div>\r\n            ))}\r\n\r\n            <hr className=\"my-3\" />\r\n\r\n            <div className=\"flex justify-between font-bold text-lg\">\r\n              <span>Total</span>\r\n              <span>Rp{totalPrice.toLocaleString()}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            onClick={handlePayment}\r\n            className=\"mt-6 w-full bg-[#6F4E37] text-white py-2 rounded hover:bg-[#5c3f2d] active:scale-95 transition\"\r\n          >\r\n            Pay Now\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => navigate(\"/order\")}\r\n            className=\"mt-3 w-full border border-[#6F4E37] text-[#6F4E37] py-2 rounded hover:bg-[#6F4E37] hover:text-white transition active:scale-95\"\r\n          >\r\n            ‚Üê Back to Order\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}